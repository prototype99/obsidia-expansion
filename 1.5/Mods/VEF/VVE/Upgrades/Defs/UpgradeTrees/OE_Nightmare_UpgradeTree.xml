<?xml version="1.0" encoding="utf-8" ?>

<Defs>
<!--=============== Nightmare Upgrade Tree Base ====================-->
  <Vehicles.UpgradeTreeDef Name="OENightmareUpgradeTreeBase" Abstract="True">
	<nodes>
	  <!-- Special -->
	  <li>
	    <key>ReinforcedArmor</key>
		<label>Reinforced Armor</label>
		<description>Weld a layer of reinforced obsidian plating to the vehicle, increasing its armor value at the cost of increasing vehicle mass and lowering acceleration.</description>
		<icon>Upgrades/Upgrade_ExtraArmor</icon>
		<work>6000</work>
		<gridCoordinate>(6, 7)</gridCoordinate>
		<drawSize>(80, 80)</drawSize>
		<upgrades>
		  <li Class="Vehicles.StatUpgrade">
		    <stats>
			  <li>
			    <def>ArmorRating_Blunt</def>
				<value>0.25</value>
			  </li>
			  <li>
			    <def>ArmorRating_Sharp</def>
				<value>0.25</value>
			  </li>
			</stats>
			<vehicleStats>
			  <li>
			    <def>AccelerationRate</def>
				<value>-0.01</value>
			  </li>
			  <li>
			    <def>Mass</def>
				<value>45</value>
			  </li>
			</vehicleStats>
		  </li>
		</upgrades>
		<ingredients>
		  <OE_Obsidian>100</OE_Obsidian>
		</ingredients>
	  </li>
	  <li>
	    <key>OffRoadTires</key>
		<label>Off Road Tires</label>
		<description>Replace the tires with deep threaded tires that provide more traction and will allow the vehicle to move significantly faster offroad.</description>
		<icon>Upgrades/Upgrade_OffroadTires</icon>
		<work>2000</work>
		<gridCoordinate>(12, 7)</gridCoordinate>
		<drawSize>(80, 80)</drawSize>
		<upgrades>
		  <li Class="Vehicles.StatUpgrade">
		    <statCategories>
			  <li>
			    <def>OffRoadMultiplier</def>
				<value>-0.5</value>
				<type>Add</type>
			  </li>
			  <li>
			    <def>WinterCostMultiplier</def>
				<value>-1.0</value>
				<type>Add</type>
			  </li>
			  <li>
			    <def>WorldSpeedMultiplier</def>
				<value>0.15</value>
				<type>Add</type>
			  </li>
			</statCategories>
		  </li>
		</upgrades>
		<ingredients>
		  <OE_Platinum>15</OE_Platinum>
		  <VVE_CarWheel>4</VVE_CarWheel>
		</ingredients>
	  </li>
	  <li>
	    <key>EnginePrototype</key>
		<label>Engine Prototype</label>
		<description>Install an engine prototype, greatly increasing movement speed and acceleration of the vehicle at the cost of fuel efficiency.</description>
		<icon>Upgrades/Upgrade_SupercarEngine</icon>
		<work>3000</work>
		<gridCoordinate>(18, 7)</gridCoordinate>
		<drawSize>(80, 80)</drawSize>
		<upgrades>
		  <li Class="Vehicles.StatUpgrade">
		    <vehicleStats>
			  <li>
			    <def>MoveSpeed</def>
				<value>3.0</value>
			  </li>
			  <li>
			    <def>AccelerationRate</def>
				<value>0.05</value>
			  </li>
			</vehicleStats>
			<statCategories>
			  <li>
			    <def>FuelConsumptionRate</def>
				<value>10</value>
			  </li>
			</statCategories>
		  </li>
		  <li Class="Vehicles.SoundUpgrade">
		    <addSustainers>
			  <li>
			    <start>IgnitionOn</start>
				<stop>IgnitionOff</stop>
				<value>VVE_VehicleEngineSuperCar</value>
				<removalKey>SupercarEngine</removalKey>
			  </li>
			</addSustainers>
			<removeSustainers>
			  <li>
			    <start>IgnitionOn</start>
				<stop>IgnitionOff</stop>
				<value>VVE_VehicleEngineBuggy</value>
				<removalKey>DefaultEngine</removalKey>
			  </li>
			</removeSustainers>
		  </li>
		</upgrades>
		<ingredients>
		  <OE_SyntheriusVehicleCore>1</OE_SyntheriusVehicleCore>
		  <VVE_EngineBlock>1</VVE_EngineBlock>
		  <VVE_CarTransmission>1</VVE_CarTransmission>
		</ingredients>
	  </li>
	  <li>
	    <key>ImprovedExhaust</key>
		<label>Improved Exhaust</label>
		<description>Change the exhaust system of the vehicle into a more efficient one, decreasing the visibility of the vehicle and improving fuel efficiency.</description>
		<icon>Upgrades/Upgrade_Exhaust</icon>
		<work>2000</work>
		<gridCoordinate>(24, 7)</gridCoordinate>
		<drawSize>(80, 80)</drawSize>
		<upgrades>
		  <li Class="Vehicles.StatUpgrade">
		    <statCategories>
			  <li>
			    <def>FuelConsumptionRate</def>
				<value>-1.5</value>
			  </li>
			</statCategories>
		  </li>
		</upgrades>
		<ingredients>
		  <OE_Mythril>20</OE_Mythril>
		  <VVE_CarExhaust>2</VVE_CarExhaust>
		</ingredients>
	  </li>
	  <li>
	    <key>BigFueltanks</key>
		<label>Big Fueltanks</label>
		<description>Attach two big fueltanks to the bottom of the vehicle to allow it to travel greater distances without the risk of running out of fuel.</description>
		<icon>Upgrades/Upgrade_FuelStorage</icon>
		<work>2000</work>
		<gridCoordinate>(30, 7)</gridCoordinate>
		<drawSize>(80, 80)</drawSize>
		<upgrades>
		  <li Class="Vehicles.StatUpgrade">
		    <statCategories>
			  <li>
			    <def>FuelCapacity</def>
				<value>250</value>
			  </li>
			</statCategories>
		  </li>
		</upgrades>
		<ingredients>
		  <OE_Platinum>40</OE_Platinum>
		</ingredients>
	  </li>	  
	  <!-- Basic -->
	  <li>
	    <key>CargoCapacity</key>
		<label>Cargo Capacity</label>
		<description>Improve the cargo capacity of the vehicle slightly.</description>
		<icon>Upgrades/Upgrade_CargoCapacity</icon>
		<work>600</work>
		<gridCoordinate>(6, 15)</gridCoordinate>
		<drawSize>(80, 80)</drawSize>
		<upgrades>
		  <li Class="Vehicles.StatUpgrade">
			<vehicleStats>
			  <li>
			    <def>CargoCapacity</def>
				<value>50</value>
			  </li>
			</vehicleStats>
		  </li>
		</upgrades>
		<ingredients>
		  <OE_Obsidian>25</OE_Obsidian>
		</ingredients>
	  </li>
	  <li>
	    <key>Armor</key>
		<label>Armor</label>
		<description>Reinforce the armor of the vehicle slightly.</description>
		<icon>Upgrades/Upgrade_Armor</icon>
		<work>1200</work>
		<gridCoordinate>(12, 15)</gridCoordinate>
		<drawSize>(80, 80)</drawSize>
		<upgrades>
		  <li Class="Vehicles.StatUpgrade">
			<stats>
			  <li>
			    <def>ArmorRating_Blunt</def>
				<value>0.1</value>
			  </li>
			  <li>
			    <def>ArmorRating_Sharp</def>
				<value>0.1</value>
			  </li>
			</stats>
		  </li>
		</upgrades>
		<ingredients>
		  <OE_Obsidian>50</OE_Obsidian>
		</ingredients>
	  </li>
	  <li>
	    <key>Speed</key>
		<label>Speed</label>
		<description>Improve the engine of the vehicle, allowing it to reach higher maximum speed.</description>
		<icon>Upgrades/Upgrade_MovementSpeed</icon>
		<work>1700</work>
		<gridCoordinate>(18, 15)</gridCoordinate>
		<drawSize>(80, 80)</drawSize>
		<upgrades>
		  <li Class="Vehicles.StatUpgrade">
			<vehicleStats>
			  <li>
			    <def>MoveSpeed</def>
				<value>1.0</value>
			  </li>
			</vehicleStats>
		  </li>
		</upgrades>
		<ingredients>
		  <VVE_EngineBlock>1</VVE_EngineBlock>
		  <OE_Syntherius>5</OE_Syntherius>
		</ingredients>
	  </li>
	  <li>
	    <key>Acceleration</key>
		<label>Acceleration</label>
		<description>Improve shifting capabilities of transmission to increase acceleration speed of the vehicle slightly.</description>
		<icon>Upgrades/Upgrade_Acceleration</icon>
		<work>1000</work>
		<gridCoordinate>(24, 15)</gridCoordinate>
		<drawSize>(80, 80)</drawSize>
		<upgrades>
		  <li Class="Vehicles.StatUpgrade">
			<vehicleStats>
			  <li>
			    <def>AccelerationRate</def>
				<value>0.005</value>
			  </li>
			</vehicleStats>
		  </li>
		</upgrades>
		<ingredients>
		  <VVE_CarTransmission>1</VVE_CarTransmission>
		  <OE_Syntherius>5</OE_Syntherius>
		</ingredients>
	  </li>
	  <li>
	    <key>FuelConsumption</key>
		<label>Fuel Consumption</label>
		<description>Improve the exhaust system of the vehicle, improving fuel efficiency slightly.</description>
		<icon>Upgrades/Upgrade_FuelConsumption</icon>
		<work>1000</work>
		<gridCoordinate>(30, 15)</gridCoordinate>
		<drawSize>(80, 80)</drawSize>
		<upgrades>
		  <li Class="Vehicles.StatUpgrade">
			<statCategories>
			  <li>
			    <def>FuelConsumptionRate</def>
				<value>-1.5</value>
			  </li>
			</statCategories>
		  </li>
		</upgrades>
		<ingredients>
		  <VVE_CarExhaust>2</VVE_CarExhaust>
		  <OE_Syntherius>5</OE_Syntherius>
		</ingredients>
	  </li>
	  <li>
	    <key>FuelCapacity</key>
		<label>Fuel Capacity</label>
		<description>Increase the size of the fueltank slightly.</description>
		<icon>Upgrades/Upgrade_FuelCapacity</icon>
		<work>800</work>
		<gridCoordinate>(36, 15)</gridCoordinate>
		<drawSize>(80, 80)</drawSize>
		<upgrades>
		  <li Class="Vehicles.StatUpgrade">
			<statCategories>
			  <li>
			    <def>FuelCapacity</def>
				<value>100</value>
			  </li>
			</statCategories>
		  </li>
		</upgrades>
		<ingredients>
		  <OE_Obsidian>10</OE_Obsidian>
		  <OE_Platinum>5</OE_Platinum>
		</ingredients>
	  </li>
	</nodes>
  </Vehicles.UpgradeTreeDef>

<!--=============== OMC ====================--> 
  <Vehicles.UpgradeTreeDef ParentName="OENightmareUpgradeTreeBase">  
    <defName>OMC_Nightmare_UpgradeTree</defName>
	<nodes>
	  <li>
	    <key>MiniTurret</key>
		<label>Mini Turret</label>
		<description>Install an autonomous miniturret on the top of the vehicle.</description>
		<icon>Upgrades/Upgrade_Turret</icon>
		<work>8500</work>
		<gridCoordinate>(36, 7)</gridCoordinate>
		<drawSize>(80, 80)</drawSize>
		<upgrades>
		  <li Class="Vehicles.TurretUpgrade">
		    <turrets>
			  <li>
			    <turretDef>OMC_Nightmare_MiniTurret</turretDef>
				<renderProperties>
				  <north>(0, -0.35)</north>
				  <south>(0, 0.85)</south>
				  <east>(-0.6, 0.25)</east>
				</renderProperties>
				<drawLayer>3</drawLayer>
				<gizmoLabel>Main Turret</gizmoLabel>
				<angleRestricted/>
				<aimPieOffset>(0, -0.25)</aimPieOffset>
				<key>mountedTurret</key>
				<parentKey>mainTurret</parentKey>
			  </li>
			</turrets>
		  </li>
		</upgrades>
		<ingredients>
		  <OE_Obsidian>35</OE_Obsidian>
		  <OE_Mythril>25</OE_Mythril>
		  <OE_Syntherius>10</OE_Syntherius>
		</ingredients>
	  </li>	  
	</nodes>
  </Vehicles.UpgradeTreeDef>

<!--=============== OTC ====================--> 
<!--=============== Acid ====================-->
  <Vehicles.UpgradeTreeDef ParentName="OENightmareUpgradeTreeBase">  
    <defName>OTC_Nightmare_Acid_UpgradeTree</defName>
	<nodes>
	  <li>
	    <key>MiniTurret</key>
		<label>Mini Turret</label>
		<description>Install an autonomous miniturret on the top of the vehicle.</description>
		<icon>Upgrades/Upgrade_Turret</icon>
		<work>8500</work>
		<gridCoordinate>(36, 7)</gridCoordinate>
		<drawSize>(80, 80)</drawSize>
		<upgrades>
		  <li Class="Vehicles.TurretUpgrade">
		    <turrets>
			  <li>
			    <turretDef>OTC_Nightmare_Acid_MiniTurret</turretDef>
				<renderProperties>
				  <north>(0, -0.35)</north>
				  <south>(0, 0.85)</south>
				  <east>(-0.6, 0.25)</east>
				</renderProperties>
				<drawLayer>3</drawLayer>
				<gizmoLabel>Main Turret</gizmoLabel>
				<angleRestricted/>
				<aimPieOffset>(0, -0.25)</aimPieOffset>
				<key>mountedTurret</key>
				<parentKey>mainTurret</parentKey>
			  </li>
			</turrets>
		  </li>
		</upgrades>
		<ingredients>
		  <OE_Obsidian>35</OE_Obsidian>
		  <OE_Mythril>25</OE_Mythril>
		  <OE_Syntherius>10</OE_Syntherius>
		</ingredients>
	  </li>	  
	</nodes>
  </Vehicles.UpgradeTreeDef>
<!--=============== Cryo ====================-->
  <Vehicles.UpgradeTreeDef ParentName="OENightmareUpgradeTreeBase">  
    <defName>OTC_Nightmare_Cryo_UpgradeTree</defName>
	<nodes>
	  <li>
	    <key>MiniTurret</key>
		<label>Mini Turret</label>
		<description>Install an autonomous miniturret on the top of the vehicle.</description>
		<icon>Upgrades/Upgrade_Turret</icon>
		<work>8500</work>
		<gridCoordinate>(36, 7)</gridCoordinate>
		<drawSize>(80, 80)</drawSize>
		<upgrades>
		  <li Class="Vehicles.TurretUpgrade">
		    <turrets>
			  <li>
			    <turretDef>OTC_Nightmare_Cryo_MiniTurret</turretDef>
				<renderProperties>
				  <north>(0, -0.35)</north>
				  <south>(0, 0.85)</south>
				  <east>(-0.6, 0.25)</east>
				</renderProperties>
				<drawLayer>3</drawLayer>
				<gizmoLabel>Main Turret</gizmoLabel>
				<angleRestricted/>
				<aimPieOffset>(0, -0.25)</aimPieOffset>
				<key>mountedTurret</key>
				<parentKey>mainTurret</parentKey>
			  </li>
			</turrets>
		  </li>
		</upgrades>
		<ingredients>
		  <OE_Obsidian>35</OE_Obsidian>
		  <OE_Mythril>25</OE_Mythril>
		  <OE_Syntherius>10</OE_Syntherius>
		</ingredients>
	  </li>	  
	</nodes>
  </Vehicles.UpgradeTreeDef>
<!--=============== Fire ====================-->
  <Vehicles.UpgradeTreeDef ParentName="OENightmareUpgradeTreeBase">  
    <defName>OTC_Nightmare_Fire_UpgradeTree</defName>
	<nodes>
	  <li>
	    <key>MiniTurret</key>
		<label>Mini Turret</label>
		<description>Install an autonomous miniturret on the top of the vehicle.</description>
		<icon>Upgrades/Upgrade_Turret</icon>
		<work>8500</work>
		<gridCoordinate>(36, 7)</gridCoordinate>
		<drawSize>(80, 80)</drawSize>
		<upgrades>
		  <li Class="Vehicles.TurretUpgrade">
		    <turrets>
			  <li>
			    <turretDef>OTC_Nightmare_Fire_MiniTurret</turretDef>
				<renderProperties>
				  <north>(0, -0.35)</north>
				  <south>(0, 0.85)</south>
				  <east>(-0.6, 0.25)</east>
				</renderProperties>
				<drawLayer>3</drawLayer>
				<gizmoLabel>Main Turret</gizmoLabel>
				<angleRestricted/>
				<aimPieOffset>(0, -0.25)</aimPieOffset>
				<key>mountedTurret</key>
				<parentKey>mainTurret</parentKey>
			  </li>
			</turrets>
		  </li>
		</upgrades>
		<ingredients>
		  <OE_Obsidian>35</OE_Obsidian>
		  <OE_Mythril>25</OE_Mythril>
		  <OE_Syntherius>10</OE_Syntherius>
		</ingredients>
	  </li>	  
	</nodes>
  </Vehicles.UpgradeTreeDef>
<!--=============== EMP ====================-->
  <Vehicles.UpgradeTreeDef ParentName="OENightmareUpgradeTreeBase">  
    <defName>OTC_Nightmare_EMP_UpgradeTree</defName>
	<nodes>
	  <li>
	    <key>MiniTurret</key>
		<label>Mini Turret</label>
		<description>Install an autonomous miniturret on the top of the vehicle.</description>
		<icon>Upgrades/Upgrade_Turret</icon>
		<work>8500</work>
		<gridCoordinate>(36, 7)</gridCoordinate>
		<drawSize>(80, 80)</drawSize>
		<upgrades>
		  <li Class="Vehicles.TurretUpgrade">
		    <turrets>
			  <li>
			    <turretDef>OTC_Nightmare_EMP_MiniTurret</turretDef>
				<renderProperties>
				  <north>(0, -0.35)</north>
				  <south>(0, 0.85)</south>
				  <east>(-0.6, 0.25)</east>
				</renderProperties>
				<drawLayer>3</drawLayer>
				<gizmoLabel>Main Turret</gizmoLabel>
				<angleRestricted/>
				<aimPieOffset>(0, -0.25)</aimPieOffset>
				<key>mountedTurret</key>
				<parentKey>mainTurret</parentKey>
			  </li>
			</turrets>
		  </li>
		</upgrades>
		<ingredients>
		  <OE_Obsidian>35</OE_Obsidian>
		  <OE_Mythril>25</OE_Mythril>
		  <OE_Syntherius>10</OE_Syntherius>
		</ingredients>
	  </li>	  
	</nodes>
  </Vehicles.UpgradeTreeDef>

<!--=============== OCC ====================--> 
  <Vehicles.UpgradeTreeDef ParentName="OENightmareUpgradeTreeBase">  
    <defName>OCC_Nightmare_UpgradeTree</defName>
	<nodes>
	  <li>
	    <key>MiniTurret</key>
		<label>Mini Turret</label>
		<description>Install an autonomous miniturret on the top of the vehicle.</description>
		<icon>Upgrades/Upgrade_Turret</icon>
		<work>8500</work>
		<gridCoordinate>(36, 7)</gridCoordinate>
		<drawSize>(80, 80)</drawSize>
		<upgrades>
		  <li Class="Vehicles.TurretUpgrade">
		    <turrets>
			  <li>
			    <turretDef>OCC_Nightmare_MiniTurret</turretDef>
				<renderProperties>
				  <north>(0, -0.35)</north>
				  <south>(0, 0.85)</south>
				  <east>(-0.6, 0.25)</east>
				</renderProperties>
				<drawLayer>3</drawLayer>
				<gizmoLabel>Main Turret</gizmoLabel>
				<angleRestricted/>
				<aimPieOffset>(0, -0.25)</aimPieOffset>
				<key>mountedTurret</key>
				<parentKey>mainTurret</parentKey>
			  </li>
			</turrets>
		  </li>
		</upgrades>
		<ingredients>
		  <OE_Obsidian>35</OE_Obsidian>
		  <OE_Mythril>25</OE_Mythril>
		  <OE_Syntherius>10</OE_Syntherius>
		</ingredients>
	  </li>	  
	</nodes>
  </Vehicles.UpgradeTreeDef>

<!--=============== OEC ====================--> 
  <Vehicles.UpgradeTreeDef ParentName="OENightmareUpgradeTreeBase">  
    <defName>OEC_Nightmare_UpgradeTree</defName>
	<nodes>
	  <li>
	    <key>MiniTurret</key>
		<label>Mini Turret</label>
		<description>Install an autonomous miniturret on the top of the vehicle.</description>
		<icon>Upgrades/Upgrade_Turret</icon>
		<work>8500</work>
		<gridCoordinate>(36, 7)</gridCoordinate>
		<drawSize>(80, 80)</drawSize>
		<upgrades>
		  <li Class="Vehicles.TurretUpgrade">
		    <turrets>
			  <li>
			    <turretDef>OEC_Nightmare_MiniTurret</turretDef>
				<renderProperties>
				  <north>(0, -0.35)</north>
				  <south>(0, 0.85)</south>
				  <east>(-0.6, 0.25)</east>
				</renderProperties>
				<drawLayer>3</drawLayer>
				<gizmoLabel>Main Turret</gizmoLabel>
				<angleRestricted/>
				<aimPieOffset>(0, -0.25)</aimPieOffset>
				<key>mountedTurret</key>
				<parentKey>mainTurret</parentKey>
			  </li>
			</turrets>
		  </li>
		</upgrades>
		<ingredients>
		  <OE_Obsidian>35</OE_Obsidian>
		  <OE_Mythril>25</OE_Mythril>
		  <OE_Syntherius>10</OE_Syntherius>
		</ingredients>
	  </li>	  
	</nodes>
  </Vehicles.UpgradeTreeDef>

<!--=============== ODC ====================--> 
  <Vehicles.UpgradeTreeDef ParentName="OENightmareUpgradeTreeBase">  
    <defName>ODC_Nightmare_UpgradeTree</defName>
	<nodes>
	  <li>
	    <key>MiniTurret</key>
		<label>Mini Turret</label>
		<description>Install an autonomous miniturret on the top of the vehicle.</description>
		<icon>Upgrades/Upgrade_Turret</icon>
		<work>8500</work>
		<gridCoordinate>(36, 7)</gridCoordinate>
		<drawSize>(80, 80)</drawSize>
		<upgrades>
		  <li Class="Vehicles.TurretUpgrade">
		    <turrets>
			  <li>
			    <turretDef>ODC_Nightmare_MiniTurret</turretDef>
				<renderProperties>
				  <north>(0, -0.35)</north>
				  <south>(0, 0.85)</south>
				  <east>(-0.6, 0.25)</east>
				</renderProperties>
				<drawLayer>3</drawLayer>
				<gizmoLabel>Main Turret</gizmoLabel>
				<angleRestricted/>
				<aimPieOffset>(0, -0.25)</aimPieOffset>
				<key>mountedTurret</key>
				<parentKey>mainTurret</parentKey>
			  </li>
			</turrets>
		  </li>
		</upgrades>
		<ingredients>
		  <OE_Obsidian>35</OE_Obsidian>
		  <OE_Mythril>25</OE_Mythril>
		  <OE_Syntherius>10</OE_Syntherius>
		</ingredients>
	  </li>	  
	</nodes>
  </Vehicles.UpgradeTreeDef>

</Defs>
